import{r,c as u,j as e,a as h}from"./index-9GecDce1.js";import{S as m,a as f,E as v,A as g,b as w}from"./SkeletonLoader-B_0rlJ27.js";const b=async a=>(await h.get("https://api.themoviedb.org/3/tv/popular",{params:{api_key:a}})).data.results,S=()=>{const[a,l]=r.useState([]),[c,o]=r.useState(!0),[i,n]=r.useState(null),d=u();r.useEffect(()=>{(async()=>{try{o(!0),n(null);const x=await b("62e40be0d9c3c699a640079454bed64b");l(x)}catch{n("Failed to fetch popular TV shows.")}finally{o(!1)}})()},[]);const p=t=>{d(`/tv/${t}`)};return e.jsxs("div",{className:"popular-tv container mx-auto px-4 pt-5 py-6 relative overflow-x-hidden overflow-y-visible",children:[e.jsx("h2",{className:"text-4xl font-bold mb-8 text-center",children:"Trending TV Shows"}),c?e.jsx("div",{className:"flex justify-center pt-5 gap-4 flex-wrap",children:Array.from({length:6}).map((t,s)=>e.jsx(m,{},s))}):i?e.jsx("p",{className:"text-center text-red-600",children:i}):a.length===0?e.jsx("p",{className:"text-center",children:"No popular TV shows found."}):e.jsx(f,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,loop:a.length>3,autoplay:{delay:3e3,disableOnInteraction:!1},coverflowEffect:{rotate:30,stretch:0,depth:80,modifier:1.2,slideShadows:!0},breakpoints:{0:{slidesPerView:1.2},480:{slidesPerView:1.5},640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4},1280:{slidesPerView:5}},modules:[v,g],className:"w-full max-w-6xl mx-auto",children:a.map((t,s)=>e.jsx(w,{className:"overflow-visible relative z-10",children:e.jsx("div",{onClick:()=>p(t.id),className:"relative group transition-transform duration-300 ease-in-out",children:e.jsxs("div",{className:"bg-slate-500 dark:bg-gray-800 rounded-lg shadow cursor-pointer p-2 relative group-hover:z-50 group-hover:-translate-y-3 group-hover:scale-[1.03] transition-all duration-300",children:[e.jsx("img",{srcSet:t.poster_path?`https://image.tmdb.org/t/p/w342${t.poster_path}`:"https://placehold.co/300x450?text=No+Image",alt:`${t.name} poster`,loading:s===0?"eager":"lazy",fetchPriority:s===0?"high":"auto",sizes:"(max-width: 600px) 185px, 342px",width:342,height:513,className:"object-cover rounded-md mb-2 w-full h-full"}),e.jsx("div",{className:"text-sm text-center font-semibold text-black dark:text-white",children:t.name}),e.jsx("div",{className:"text-xs text-center text-black dark:text-gray-300",children:t.first_air_date?.slice(0,4)})]})})},t.id))})]})};export{S as default};
