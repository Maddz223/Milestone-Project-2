import{r,c as h,j as t,a as u}from"./index-CdiMlzXw.js";import{S as m,a as f,E as g,A as w,b as v}from"./SkeletonLoader-eI9SigbY.js";const b=async s=>(await u.get("https://api.themoviedb.org/3/movie/popular",{params:{api_key:s}})).data.results,N=()=>{const[s,o]=r.useState([]),[n,l]=r.useState(!0),[i,c]=r.useState(null),d=h();r.useEffect(()=>{(async()=>{try{l(!0),c(null);const x=await b("62e40be0d9c3c699a640079454bed64b");o(x)}catch{c("Failed to fetch popular movies.")}finally{l(!1)}})()},[]);const p=e=>{d(`/movie/${e}`)};return t.jsxs("div",{className:"container mx-auto px-4 py-6",children:[t.jsx("h2",{className:"text-4xl font-bold mb-8 text-center",children:"Trending Movies"}),n?t.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:Array.from({length:6}).map((e,a)=>t.jsx(m,{},a))}):i?t.jsx("p",{className:"text-center text-red-600",children:i}):s.length===0?t.jsx("p",{className:"text-center",children:"No popular movies found."}):t.jsx(f,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,loop:s.length>3,autoplay:{delay:3e3,disableOnInteraction:!1},coverflowEffect:{rotate:30,stretch:0,depth:80,modifier:1.2,slideShadows:!0},breakpoints:{0:{slidesPerView:1.2},480:{slidesPerView:1.5},640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:4},1280:{slidesPerView:5}},modules:[g,w],className:"w-full max-w-6xl mx-auto",children:s.map((e,a)=>t.jsxs(v,{title:e.title,onClick:()=>p(e.id),className:"bg-slate-500 dark:bg-gray-800 rounded-lg overflow-hidden shadow hover:shadow-lg cursor-pointer p-2 transform hover:scale-105 transition-all duration-300",style:{contain:"layout"},children:[t.jsx("img",{srcSet:e.poster_path?`https://image.tmdb.org/t/p/w342${e.poster_path}`:"https://placehold.co/300x450?text=No+Image",alt:`${e.title} poster`,loading:a===0?"eager":"lazy",fetchPriority:a===0?"high":"auto",sizes:"(max-width: 600px) 185px, 342px",width:342,height:513,className:"object-cover rounded-md mb-2 w-full h-full"}),t.jsx("div",{className:"text-sm text-center  font-semibold text-black dark:text-white",children:e.title}),t.jsx("div",{className:"text-xs text-center  text-black dark:text-gray-300",children:e.release_date?.slice(0,4)})]},e.id))})]})};export{N as default};
